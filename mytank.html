<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Private Fish Tank | Watch Your Fish Collection Swim | FishTalk.app</title>
    <meta name="description" content="View your personal fish collection in a beautiful animated aquarium! Watch your created fish and favorites swim together in your private tank.">
    <meta name="keywords" content="my fish tank, private aquarium, fish collection, personal fish tank, animated fish tank">
    
    <!-- Open Graph tags -->
    <meta property="og:title" content="My Private Fish Tank - Your Personal Aquarium">
    <meta property="og:description" content="Watch your fish collection swim in your private animated aquarium.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fishtalk.app/mytank.html">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://fishtalk.app/mytank.html">
    
    <link rel="stylesheet" href="src/css/style.css?v=2.0">
    <link rel="stylesheet" href="src/css/animations.css?v=2.0">
    <link rel="stylesheet" href="src/css/cute-theme.css?v=2.0">
    <link rel="stylesheet" href="src/css/hamburger-menu.css?v=1.0">
    <link rel="icon" type="image/png" href="/fish_logo.png">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-601YXTKK0L"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-601YXTKK0L');
    </script>
    
    <style>
        /* Tank wrapper - full screen */
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        
        .tank-wrapper {
            position: relative;
            width: 100vw;
            height: 100vh;
        }
        
        #swim-canvas {
            width: 100vw !important;
            height: calc(100vh - 220px) !important;
            max-width: 100vw !important;
            border: none !important;
            display: block !important;
            margin: 0 !important;
            margin-top: 60px !important;
        }
        
        /* Controls Container */
        .cute-controls-container {
            position: static;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 10px 15px;
            border-top: 1px solid #ddd;
        }
        
        .control-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 8px;
        }
        
        /* Show/hide for responsive */
        .desktop-only {
            display: inline;
        }
        
        .mobile-only {
            display: none;
        }
        
        /* Mobile-specific */
        @media (max-width: 768px) {
            body {
                display: flex;
                flex-direction: column;
                height: 100vh;
            }
            
            #swim-canvas {
                width: 100vw !important;
                height: calc(100vh - 220px) !important;
                margin-top: 60px !important;
            }
            
            .cute-controls-container {
                padding: 6px 8px !important;
            }
            
            .cute-controls-container h1 {
                font-size: 14px !important;
            }
            
            .desktop-only {
                display: none;
            }
            
            .mobile-only {
                display: inline;
            }
        }
        
        @media (min-width: 769px) {
            #swim-canvas {
                width: 100vw !important;
                height: calc(100vh - 140px) !important;
                margin-top: 60px !important;
            }
        }
    </style>
</head>
<body>
  <!-- Top Navigation Bar -->
  <nav class="game-nav" style="position: fixed; top: 0; left: 0; right: 0; z-index: 1000; background: linear-gradient(180deg, rgba(99, 102, 241, 0.95) 0%, rgba(79, 70, 229, 0.95) 100%); padding: 10px 15px; display: flex; align-items: center; justify-content: flex-end; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); height: 60px;">
    <!-- Ê±âÂ†°ËèúÂçïÊåâÈíÆ -->
    <button id="hamburger-menu-btn" class="hamburger-menu-btn" aria-label="ÊâìÂºÄËèúÂçï">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </nav>

  <!-- ‰æßËæπÊ†èËèúÂçï -->
  <div id="sidebar-menu" class="sidebar-menu">
    <div class="sidebar-header">
      <h3>üêü Menu</h3>
      <button id="close-sidebar-btn" class="close-sidebar-btn" aria-label="Close menu">&times;</button>
    </div>
    <nav class="sidebar-nav">
      <a href="index.html" class="sidebar-link">
        <span class="sidebar-icon">üé®</span>
        <span>Draw Fish</span>
      </a>
      <a href="tank.html" class="sidebar-link">
        <span class="sidebar-icon">üåä</span>
        <span>Global Tank</span>
      </a>
      <a href="mytank.html" class="sidebar-link">
        <span class="sidebar-icon">üèÜ</span>
        <span>My Tank</span>
      </a>
      <a href="rank.html" class="sidebar-link">
        <span class="sidebar-icon">‚≠ê</span>
        <span>Rank</span>
      </a>
      <a href="profile.html" class="sidebar-link">
        <span class="sidebar-icon">üë§</span>
        <span>Profile</span>
      </a>
    </nav>
  </div>
  
  <!-- ‰æßËæπÊ†èÈÅÆÁΩ© -->
  <div id="sidebar-overlay" class="sidebar-overlay"></div>

  <!-- È±ºÁº∏ÂÆπÂô® -->
  <div class="tank-wrapper">
    <!-- Ë£ÖÈ•∞Â±Ç -->
    <div class="tank-decorations">
      <!-- Ê∞¥Ëçâ -->
      <div class="seaweed seaweed-left"></div>
      <div class="seaweed seaweed-right"></div>
      <!-- Â∫ïÈÉ®Ê≤ôÂú∞ -->
      <div class="sand-layer"></div>
      <!-- Ë£ÖÈ•∞Áâ© -->
      <div class="decoration shell"></div>
      <div class="decoration starfish"></div>
      <div class="decoration rock"></div>
    </div>
    
    <!-- È±ºÁº∏ÁîªÂ∏É -->
    <canvas id="swim-canvas" width="800" height="400"></canvas>
    
    <!-- ÂâçÊôØÂÖâÁ∫øÊïàÊûú -->
    <div class="light-beams">
      <div class="light-beam"></div>
      <div class="light-beam delay-1"></div>
      <div class="light-beam delay-2"></div>
    </div>
  </div>
  
  <!-- ÊéßÂà∂Ê†è -->
  <div class="cute-controls-container" style="padding: 10px 15px;">
    <!-- Ê†áÈ¢òÂíå‰∏ªË¶ÅÊéßÂà∂ -->
    <div class="control-row" style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
      <div style="display: flex; align-items: center; gap: 12px; flex-wrap: wrap;">
        <h1 style="margin: 0; font-size: 20px; color: #6366F1; display: flex; align-items: center; gap: 6px;">
          üê† My Private Fish Tank
        </h1>
        <p style="margin: 4px 0 0 0; font-size: 13px; color: #666; font-weight: 500;" id="fish-count-display">
          Loading...
        </p>
      </div>
      
      <!-- È±ºÈ£ü‰ΩôÈ¢ù -->
      <div style="display: flex; align-items: center; gap: 12px;">
        <div style="background: rgba(255, 255, 255, 0.8); padding: 6px 12px; border-radius: 12px; font-weight: 600; color: #007bff;">
          üçñ Fish Food: <span id="fish-food-amount">--</span>
        </div>
      </div>
      
      <!-- Âè≥‰æßÊåâÈíÆÁªÑ -->
      <div style="display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
        <a href="index.html" class="cute-button cute-button-primary" style="padding: 6px 14px; font-size: 13px; background: #27ae60;">
          üé® Draw Fish
        </a>
        <a href="tank.html" class="cute-button cute-button-primary" style="padding: 6px 14px; font-size: 13px;">
          üåç Global Tank
        </a>
        <a href="rank.html" class="cute-button cute-button-primary" style="padding: 6px 12px; font-size: 13px;">‚≠ê</a>
        <a href="profile.html" class="cute-button cute-button-primary" style="padding: 6px 12px; font-size: 13px;">üë§</a>
        <a href="myfish.html" id="my-fish-link" class="cute-button cute-button-primary" style="padding: 6px 12px; font-size: 13px; display: none;">üêü</a>
      </div>
    </div>
    
    <!-- È±ºÁº∏ÁªüËÆ°ÂíåÊèêÁ§∫ -->
    <div class="control-row" style="display: flex; align-items: center; justify-content: space-between; gap: 15px; flex-wrap: wrap;">
      <div style="display: flex; align-items: center; gap: 15px; font-size: 13px; color: #666;">
        <span>üêü Own Fish: <strong id="own-fish-count">0</strong></span>
        <span>‚ù§Ô∏è Favorited: <strong id="favorited-fish-count">0</strong></span>
        <span>üìä Avg Level: <strong id="avg-fish-level">0</strong></span>
      </div>
      
      <div class="feed-hint" style="font-size: 12px; margin: 0;">
        <strong>üçî Feed the fish:</strong> 
        <span class="desktop-only">Hold Shift + Click or Right-click</span>
        <span class="mobile-only">Double-tap or Long-press</span>
        to drop food pellets
      </div>
    </div>
    
    <!-- Âä†ËΩΩÊåáÁ§∫Âô® -->
    <div id="loading-indicator" class="cute-loader" style="display: none;">
      <div class="cute-loader-dot"></div>
      <div class="cute-loader-dot"></div>
      <div class="cute-loader-dot"></div>
    </div>
  </div>

  <script src="src/js/footer-utils.js"></script>
  <!-- Supabase SDK -->
  <script src="public/supabase-config.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="src/js/supabase-init.js"></script>
  <script src="src/js/fish-utils.js"></script>
  <script src="src/js/fishtank-favorites.js"></script>
  <script src="src/js/auth-ui.js"></script>
  <script src="src/js/modal-utils.js"></script>
  <!-- Hamburger Menu Script -->
  <script src="src/js/hamburger-menu.js"></script>
  <!-- Private Fish Tank Script (modified to use swimming animation) -->
  <script src="src/js/private-fishtank-swim.js"></script>
  <script>
    // Initialize navigation authentication
    initializeAuthNavigation();
  </script>
</body>
</html>

